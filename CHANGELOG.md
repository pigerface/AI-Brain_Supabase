# è®Šæ›´æ—¥èªŒ (CHANGELOG)

æœ¬æ–‡ä»¶è¨˜éŒ„ AI Brain Supabase é …ç›®çš„æ‰€æœ‰é‡è¦è®Šæ›´ã€‚

æ ¼å¼åŸºæ–¼ [Keep a Changelog](https://keepachangelog.com/zh-TW/1.0.0/)ï¼Œ
ç‰ˆæœ¬è™Ÿéµå¾ª [Semantic Versioning](https://semver.org/lang/zh-TW/)ã€‚

---

## [2.1.0] - 2025-08-31

### ğŸ§¹ ç³»çµ±æ¸…ç†èˆ‡å„ªåŒ– (Cleanup & Optimization)
- **æ–‡ä»¶æ¸…ç†**: ç§»é™¤ä¸å†éœ€è¦çš„ç¨‹å¼å’Œæ–‡ä»¶
  - åˆªé™¤ `uv-example.py` - ä¸å†éœ€è¦çš„ç¤ºä¾‹è…³æœ¬
  - æ¸…ç† `client/__pycache__/` - Python å¿«å–ç›®éŒ„
  - ç§»é™¤ `sql/init_schema.sql` - æœ‰èªæ³•å•é¡Œçš„åŸå§‹ schema
  - åˆªé™¤ `QUICKSTART.md` - èˆ‡ README.md é‡è¤‡çš„æ–‡æª”
  - ç§»é™¤ `supabase/seed.sql` - ä¸å¿…è¦çš„ç¨®å­æª”æ¡ˆ

### ğŸ“š æ–‡æª”å…¨é¢æ›´æ–° (Documentation Overhaul)
- **README.md å®Œå…¨é‡å¯«**:
  - æ·»åŠ å°ˆæ¡ˆæ¦‚è¿°èˆ‡æ ¸å¿ƒåŠŸèƒ½èªªæ˜
  - è©³ç´°çš„å¿«é€Ÿé–‹å§‹æŒ‡å—
  - å®Œæ•´çš„è…³æœ¬åŠŸèƒ½èªªæ˜
  - RAG ç³»çµ±è³‡æ–™åº«æ¶æ§‹æ–‡æª”
  - å…¨é¢çš„æ•…éšœæ’é™¤æŒ‡å—

- **client/README.md å…¨æ–°å‰µå»º**:
  - Python å®¢æˆ¶ç«¯åº«å®Œæ•´æ–‡æª”
  - å„æ¨¡çµ„è©³ç´°åŠŸèƒ½èªªæ˜
  - API æ–¹æ³•èˆ‡ä½¿ç”¨ç¯„ä¾‹
  - å®Œæ•´çš„ä½¿ç”¨æŒ‡å—

- **è…³æœ¬è¨»è§£å¢å¼·**:
  - ç‚ºæ¯å€‹ shell è…³æœ¬æ·»åŠ è©³ç´°æ¨™é ­è¨»è§£
  - åŒ…å«åŠŸèƒ½èªªæ˜ã€æ“ä½œæ­¥é©Ÿã€å®‰å…¨ç‰¹æ€§
  - æ·»åŠ ä½¿ç”¨ç¯„ä¾‹å’Œç›¸é—œè…³æœ¬åƒè€ƒ

### ğŸ”§ è‡ªå‹•åŒ–æ”¹é€² (Automation Improvements)
- **SQL åˆå§‹åŒ–é›†æˆ**:
  - ä¿®æ”¹ `scripts/setup.sh` è‡ªå‹•æ•´åˆ RAG schema
  - æ›´æ–° `scripts/start.sh` æ·»åŠ è³‡æ–™åº«æª¢æŸ¥åŠŸèƒ½
  - æ”¹é€² `scripts/reset.sh` å®¹éŒ¯è™•ç†æ©Ÿåˆ¶

- **pgvector ç›¸å®¹æ€§ä¿®å¾©**:
  - å»ºç«‹ `sql/simplified_rag_schema.sql` æ›¿ä»£æœ‰å•é¡Œçš„åŸå§‹ schema
  - ä¿®å¾©æ“´å±•å‘½åå•é¡Œ (`pgvector` â†’ `vector`)
  - æ”¹å–„èˆ‡ Supabase CLI çš„ç›¸å®¹æ€§

### ğŸ“‹ é–‹ç™¼é«”é©—å„ªåŒ– (Developer Experience)
- **å®Œå…¨è…³æœ¬åŒ–æ“ä½œ**: æ‰€æœ‰æ“ä½œç¾åœ¨éƒ½å¯ä»¥é€éè…³æœ¬å®Œæˆ
- **æ™ºèƒ½éŒ¯èª¤è™•ç†**: æ”¹å–„æ‰€æœ‰è…³æœ¬çš„éŒ¯èª¤è™•ç†å’Œç‹€æ…‹æª¢æŸ¥
- **è‡ªå‹•è³‡æ–™åº«åˆå§‹åŒ–**: æœå‹™å•Ÿå‹•æ™‚è‡ªå‹•æª¢æŸ¥å’Œåˆå§‹åŒ–è³‡æ–™è¡¨
- **å®¹éŒ¯æ©Ÿåˆ¶**: å¤šç¨®å‚™æ´æ–¹æ¡ˆç¢ºä¿ç³»çµ±ç©©å®šé‹è¡Œ

### ğŸ› å•é¡Œä¿®å¾© (Bug Fixes)
- ä¿®å¾©è³‡æ–™è¡¨ç„¡æ³•è‡ªå‹•å»ºç«‹çš„å•é¡Œ
- è§£æ±º pgvector æ“´å±•å®‰è£å•é¡Œ
- ä¿®æ­£ SQL èªæ³•éŒ¯èª¤å°è‡´çš„é·ç§»å¤±æ•—
- æ”¹å–„è…³æœ¬é–“çš„ç›¸ä¾æ€§è™•ç†

---

## [2.0.0] - 2025-08-31

### ğŸš€ é‡å¤§è®Šæ›´ (BREAKING CHANGES)
- **å®Œå…¨é‡æ§‹**: å¾æ‰‹å‹• Docker Compose é·ç§»åˆ° Supabase CLI è‡ªå‹•åŒ–éƒ¨ç½²
- **ç«¯å£è®Šæ›´**: 
  - API: 8000 â†’ 54331
  - æ•¸æ“šåº«: 5435 â†’ 54332  
  - Studio: 8000 â†’ 54333
  - Email æ¸¬è©¦: æ–°å¢ â†’ 54334

### âœ¨ æ–°å¢åŠŸèƒ½ (Added)
- **è‡ªå‹•åŒ–è…³æœ¬å¥—ä»¶**:
  - `scripts/setup.sh` - ç’°å¢ƒè‡ªå‹•å®‰è£
  - `scripts/start.sh` - æœå‹™å•Ÿå‹•è…³æœ¬
  - `scripts/stop.sh` - æœå‹™åœæ­¢è…³æœ¬
  - `scripts/reset.sh` - æ•¸æ“šåº«é‡ç½®è…³æœ¬
  - `scripts/backup.sh` - å®Œæ•´å‚™ä»½è…³æœ¬

- **Supabase CLI é›†æˆ**:
  - å®˜æ–¹ CLI å·¥å…·è‡ªå‹•ç®¡ç†
  - è‡ªå‹•ç”Ÿæˆ JWT å¯†é‘°å’Œ API å¯†é‘°
  - å…§å»ºå¥åº·æª¢æŸ¥å’Œæœå‹™ä¾è³´ç®¡ç†
  - æ¨™æº–åŒ–çš„æ•¸æ“šåº«é·ç§»ç³»çµ±

- **é–‹ç™¼å·¥å…·**:
  - Studio ç®¡ç†ç•Œé¢ (http://localhost:54333)
  - Email æ¸¬è©¦å·¥å…· (Mailpit)
  - å¯¦æ™‚æ—¥èªŒç›£æ§
  - è‡ªå‹•åŒ–å‚™ä»½ç³»çµ±

- **æ–‡æª”ç³»çµ±**:
  - å…¨æ–° README.md (ä¸­æ–‡ç‰ˆï¼Œè©³ç´°æŒ‡å—)
  - QUICKSTART.md (å¿«é€Ÿé–‹å§‹æŒ‡å—)
  - CHANGELOG.md (è®Šæ›´æ—¥èªŒ)
  - å…§åµŒä½¿ç”¨ç¤ºä¾‹å’Œæ•…éšœæ’é™¤æŒ‡å—

### ğŸ”§ æ”¹é€² (Changed)
- **é…ç½®ç®¡ç†**: å¾æ‰‹å‹• .env æ–‡ä»¶æ”¹ç‚º `supabase/config.toml`
- **æ•¸æ“šåº«ç®¡ç†**: ä½¿ç”¨ç‰ˆæœ¬åŒ–é·ç§»æ›¿ä»£æ‰‹å‹• SQL è…³æœ¬
- **å®‰å…¨æ€§**: è‡ªå‹•ç”Ÿæˆå¼·å¯†é‘°ï¼Œä¸å†ä½¿ç”¨ demo å¯†é‘°
- **å¯ç¶­è­·æ€§**: æ¨™æº–åŒ–å·¥å…·éˆï¼Œéµå¾ªå®˜æ–¹æœ€ä½³å¯¦è¸

### ğŸ—‘ ç§»é™¤ (Removed)
- **èˆŠé…ç½®ç³»çµ±**:
  - `docker-compose.yml` â†’ å‚™ä»½ç‚º `docker-compose.yml.backup`
  - `.env` â†’ å‚™ä»½ç‚º `.env.backup`
  - `volumes/` â†’ å‚™ä»½ç‚º `volumes.backup/`

### ğŸ”’ å®‰å…¨æ”¹é€² (Security)
- ç§»é™¤ç¡¬ç·¨ç¢¼çš„ demo API å¯†é‘°
- å¯¦æ–½è‡ªå‹•å¯†é‘°è¼ªæ›æ©Ÿåˆ¶
- åŠ å¼·æ•¸æ“šåº«ç”¨æˆ¶æ¬Šé™ç®¡ç†
- JWT å¯†é‘°è‡ªå‹•ç”Ÿæˆå’Œç®¡ç†

### ğŸ› ä¿®å¾© (Fixed)
- è§£æ±ºæ•¸æ“šåº«ç”¨æˆ¶å¯†ç¢¼ç¼ºå¤±å•é¡Œ
- ä¿®å¾©æœå‹™ä¾è³´å•Ÿå‹•é †åºå•é¡Œ
- è§£æ±ºç«¯å£è¡çªå•é¡Œ
- ä¿®å¾© Kong API ç¶²é—œé…ç½®å•é¡Œ

### ğŸ“Š æŠ€è¡“å‚µå‹™ (Technical Debt)
- é‡æ§‹è¤‡é›œçš„æ‰‹å‹•é…ç½®ç‚ºè‡ªå‹•åŒ–ç®¡ç†
- ç°¡åŒ–éƒ¨ç½²æµç¨‹å¾å¤šæ­¥é©Ÿåˆ°ä¸€éµéƒ¨ç½²
- çµ±ä¸€æ—¥èªŒå’Œç›£æ§ç³»çµ±
- æ¨™æº–åŒ–éŒ¯èª¤è™•ç†å’Œæ¢å¾©æ©Ÿåˆ¶

---

## [1.0.0] - 2025-08-23

### âœ¨ åˆå§‹ç‰ˆæœ¬ (Initial Release)
- **åŸºç¤åŠŸèƒ½**:
  - Docker Compose æ‰‹å‹•éƒ¨ç½²
  - PostgreSQL æ•¸æ“šåº«èˆ‡ pgvector æ“´å±•
  - Python å®¢æˆ¶ç«¯åº« (uv ç’°å¢ƒ)
  - RAG ç³»çµ±æ•¸æ“šåº«æ¶æ§‹
  
- **æ ¸å¿ƒçµ„ä»¶**:
  - Supabase Studio ç®¡ç†ç•Œé¢
  - GoTrue èªè­‰æœå‹™
  - PostgREST API è‡ªå‹•ç”Ÿæˆ
  - Realtime è¨‚é–±åŠŸèƒ½
  - Storage æ–‡ä»¶å­˜å„²æœå‹™

- **é–‹ç™¼å·¥å…·**:
  - Python å®¢æˆ¶ç«¯ SDK
  - SQLAlchemy ORM é›†æˆ
  - åŸºç¤ CLI å·¥å…·

---

## å‡ç´šæŒ‡å—

### å¾ 1.0.0 å‡ç´šåˆ° 2.0.0

1. **å‚™ä»½ç¾æœ‰æ•¸æ“š**:
   ```bash
   # èˆŠç‰ˆæœ¬æ•¸æ“šå·²è‡ªå‹•å‚™ä»½åˆ° volumes.backup/
   # å¦‚éœ€æ‰‹å‹•å‚™ä»½:
   pg_dump postgresql://postgres:hungtse2025@localhost:5435/postgres > backup_v1.sql
   ```

2. **åœæ­¢èˆŠæœå‹™**:
   ```bash
   docker compose -f docker-compose.yml.backup down
   ```

3. **é·ç§»åˆ°æ–°ç‰ˆæœ¬**:
   ```bash
   ./scripts/setup.sh
   ./scripts/start.sh
   ```

4. **æ¢å¾©æ•¸æ“š** (å¦‚éœ€è¦):
   ```bash
   # å°‡èˆŠæ•¸æ“šå°å…¥æ–°ç³»çµ±
   psql postgresql://postgres:postgres@localhost:54332/postgres < backup_v1.sql
   ```

### é…ç½®é·ç§»

| èˆŠé…ç½® (v1.0.0) | æ–°é…ç½® (v2.0.0) | èªªæ˜ |
|-----------------|-----------------|------|
| `.env` | `supabase/config.toml` | é…ç½®æ ¼å¼è®Šæ›´ |
| `docker-compose.yml` | CLI è‡ªå‹•ç®¡ç† | ä¸å†éœ€è¦æ‰‹å‹•é…ç½® |
| `volumes/` | å®¹å™¨å…§è‡ªå‹•ç®¡ç† | æ•¸æ“šæŒä¹…åŒ–è‡ªå‹•è™•ç† |

### API ç«¯é»è®Šæ›´

| æœå‹™ | v1.0.0 ç«¯é» | v2.0.0 ç«¯é» |
|------|-------------|-------------|
| API | :8000 | :54331 |
| Studio | :8000 | :54333 |
| æ•¸æ“šåº« | :5435 | :54332 |

---

## è²¢ç»æŒ‡å—

### å¦‚ä½•æ·»åŠ è®Šæ›´æ—¥èªŒæ¢ç›®

1. **ç¢ºå®šè®Šæ›´é¡å‹**:
   - `Added` - æ–°åŠŸèƒ½
   - `Changed` - ç¾æœ‰åŠŸèƒ½è®Šæ›´
   - `Deprecated` - å³å°‡ç§»é™¤çš„åŠŸèƒ½
   - `Removed` - å·²ç§»é™¤çš„åŠŸèƒ½
   - `Fixed` - å•é¡Œä¿®å¾©
   - `Security` - å®‰å…¨ç›¸é—œè®Šæ›´

2. **ç·¨å¯«æ¸…æ™°çš„æè¿°**:
   - ä½¿ç”¨ä¸»å‹•èªæ…‹
   - åŒ…å«è¶³å¤ çš„ä¸Šä¸‹æ–‡
   - æ·»åŠ ç›¸é—œçš„ä»£ç¢¼ç¤ºä¾‹æˆ–å‘½ä»¤

3. **æ¨™è¨˜ç ´å£æ€§è®Šæ›´**:
   - åœ¨ç‰ˆæœ¬è™Ÿå‰æ·»åŠ  `BREAKING CHANGES` æ¨™è¨˜
   - æä¾›å‡ç´šæŒ‡å—

---

## ç‰ˆæœ¬èªªæ˜

- **ä¸»ç‰ˆæœ¬** (X.0.0): åŒ…å«ç ´å£æ€§è®Šæ›´
- **æ¬¡ç‰ˆæœ¬** (0.X.0): æ–°åŠŸèƒ½ï¼Œå‘å¾Œå…¼å®¹  
- **ä¿®è¨‚ç‰ˆæœ¬** (0.0.X): å•é¡Œä¿®å¾©ï¼Œå‘å¾Œå…¼å®¹

---

*æ›´å¤šä¿¡æ¯è«‹åƒè€ƒ [README.md](README.md)*